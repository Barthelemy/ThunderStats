<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"
  [
  <!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd">
  %brandDTD;
  <!ENTITY % globalDTD SYSTEM "chrome://global/locale/global.dtd">
  %globalDTD;
  <!ENTITY % startDTD SYSTEM "chrome://thunderstats/locale/mzts-statstab.dtd">
  %startDTD;
  ]
>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <head>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://messenger/skin/messageHeader.css"/>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://thunderstats/content/css/mzts-statstab.css"/>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://thunderstats/content/css/mzts-statstab.graphs.css"/>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://thunderstats/content/css/mzts-log.css"/>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://thunderstats/content/css/tooltip/tooltipster.css"/>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://thunderstats/content/css/tooltip/tooltipster-light.css"/>
    <link rel="stylesheet" media="screen" type="text/css" href="chrome://messenger/skin/tagColors.css"/>
    <title>&ThunderStats.TABTitle;</title>

    <!--<script type="application/javascript;version=1.8" src="chrome://messenger/content/protovis-r2.6-modded.js"/>-->
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/jslib/jquery-2.1.3.min.js"/>
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/jslib/jquery.tooltipster.min.js"/>
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/jslib/d3.min.js"/>
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/jslib/moment-with-locales.min.js"/>
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/mzts-statstab.js"/>
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/mzts-statstab.callback.js"/>
    <script type="application/javascript;version=1.8" src="chrome://thunderstats/content/mzts-statstab.ui.js"/>
	<script type="application/javascript;version=1.8">
	$jQ(document).ready(function() {
		$jQ('.tooltip').tooltipster({
			arrow:true,
			debug:false,
			theme:'tooltipster-light'
		});
		$jQ('.tabs .tab-links a').on('click', function(e)  {
			let currentAttrValue = $jQ(this).attr('href');

			// Show/Hide Tabs
			//$jQ('.tabs ' + currentAttrValue).show().siblings().hide();
			$jQ('.tabs ' + currentAttrValue).fadeIn(400).siblings().hide();

			//update value
			miczThunderStatsTab.ui.updateTab(currentAttrValue);

			// Change/remove current tab to active
			$jQ(this).parent('li').addClass('active').siblings().removeClass('active');

			e.preventDefault();
		});
	});
	</script>

  </head>

  <body>

  <xul:popupset id="mainPopupSet">
    <xul:tooltip id="mztsXulInXhtmlTooltip"/>
  </xul:popupset>

	  <div id="heading_wrapper">
		  <div id="mzts-idnt_sel">Choose identity:&nbsp;
      		<select id="identities_selector">
		  	<option value="0">All identities</option>
			</select>&nbsp;
			<button type="button" onclick="miczThunderStatsTab.updateStats();">Update</button>
		  </div>
		<div id="mzts-setup_icon">
			<img src="chrome://thunderstats/skin/mzts-setup.png" alt="Setup" onclick="miczThunderStatsTab.ui.openPrefWindow();"
			title="Setup" class="tooltip"/>
		</div>
		<div id="mzts-last_msg"></div>
    </div>

<div id="content_wrapper">
	<div class="tabs">
		<ul class="tab-links">
			<li class="active"><a href="#tab_today">Today</a></li>
			<li><a href="#tab_yesterday">Yesterday</a></li>
			<li><a href="#tab_7days">Last 7 days</a></li>
			<li><a href="#tab_info">Info</a></li>
		</ul>

		<div class="tab-content">
			<div id="tab_today" class="tab active">
				<div id="table_today">
				  <div id="tier1_today" class="tier">
					<div class="chunk" id="top_left_chunk">
				  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Today Messages</h2>
						<span id="today_date" class="list_heading_date"></span>
					  </div>
					<p><span>Sent messages: </span><span id="today_sent"></span><img src="chrome://thunderstats/skin/mzts-wait_line.gif" alt="Loading..." id="today_sent_wait"/></p>
					<p><span>Received messages: </span><span id="today_rcvd"></span><img src="chrome://thunderstats/skin/mzts-wait_line.gif" alt="Loading..." id="today_rcvd_wait"/></p>
					</div>
					<div class="chunk" id="top_right_chunk_today">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Inbox 0 Status</h2>
					  </div>
				  </div>
				  </div>
				  <div id="tier2_today" class="tier">
					<div class="chunk" id="bottom_left_chunk_today">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Today Top 10 Recipients</h2>
					  </div>
					  <div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="today_recipients_wait"/></div>
					  <div id="today_recipients"></div>
					</div>
					<div class="chunk" id="bottom_right_chunk_today">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Today Top 10 Senders</h2>
					  </div>
					  <div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="today_senders_wait"/></div>
					  <div id="today_senders"></div>
					  </div>
				  </div>
			   </div> <!-- table_today -->
			</div> <!--tab today-->

			<div id="tab_yesterday" class="tab">
				<div id="table_yesterday">
				  <div id="tier1_yesterday" class="tier">
					<div class="chunk" id="top_left_chunk">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Yesterday Messages</h2>
						<span id="yesterday_date" class="list_heading_date"></span>
					  </div>
						<p><span>Sent messages: </span><span id="yesterday_sent"></span><img src="chrome://thunderstats/skin/mzts-wait_line.gif" alt="Loading..." id="yesterday_sent_wait"/></p>
						<p><span>Received messages: </span><span id="yesterday_rcvd"></span><img src="chrome://thunderstats/skin/mzts-wait_line.gif" alt="Loading..." id="yesterday_rcvd_wait"/></p>
					</div>
					<div class="chunk" id="top_right_chunk_yesterday">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Inbox 0 Status</h2>
					  </div>
					</div>
				  </div>
				  <div id="tier2_yesterday" class="tier">
					<div class="chunk" id="bottom_left_chunk_yesterday">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Yesterday Top 10 Recipients</h2>
					  </div>
					  <div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="yesterday_recipients_wait"/></div>
					  <div id="yesterday_recipients"></div>
					</div>
					<div class="chunk" id="bottom_right_chunk_yesterday">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Yesterday Top 10 Senders</h2>
					  </div>
					  <div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="yesterday_senders_wait"/></div>
					  <div id="yesterday_senders"></div>
					  </div>
				  </div>
			   </div> <!-- table_yesterday -->
			</div> <!--tab yesterday-->

			<div id="tab_7days" class="tab">
				<div id="table_7days">
				  <div id="tier1_7days" class="tier">
					<div class="chunk" id="top_left_chunk_7days">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Sent Mails: <span id="7days_sent_total"></span></h2>
						<div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="7days_sent_wait"/></div>
						<div id="chart_7days_sent" class="chart_7days"></div>
					  </div>
					</div>
					<div class="chunk" id="top_right_chunk_7days">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Received Mails: <span id="7days_rcvd_total"></span></h2>
						<div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="7days_rcvd_wait"/></div>
						<div id="chart_7days_rcvd" class="chart_7days"></div>
					  </div>
					</div>
				  </div>
				  <div id="tier2_7days" class="tier">
					<div class="chunk" id="bottom_left_chunk_7days">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Top 10 Recipients</h2>
						<div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="7days_recipients_wait"/></div>
						<div id="7days_recipients"></div>
					  </div>
					</div>
					<div class="chunk" id="bottom_right_chunk_7days">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Top 10 Senders</h2>
						<div class="circle_wait"><img src="chrome://thunderstats/skin/mzts-wait_circle.gif" alt="Loading..." id="7days_senders_wait"/></div>
						<div id="7days_senders"></div>
					  </div>
					  </div>
				  </div>
			   </div> <!-- table_7days -->
			</div> <!--tab 7days-->

			<div id="tab_info" class="tab">
				<div id="table_info">
				  <div id="tier1_info" class="tier">
					<div class="chunk" id="top_left_chunk">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Title</h2>
					  </div>
					</div>
					<div class="chunk" id="top_right_chunk_info">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Title</h2>
					  </div>
					</div>
				  </div>
				  <div id="tier2_7days" class="tier">
					<div class="chunk" id="bottom_left_chunk_info">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Title</h2>
					  </div>
					</div>
					<div class="chunk" id="bottom_right_chunk_info">
					  <div class="list_heading_wrapper">
						<h2 class="list_heading cropped">Title</h2>
					  </div>
					  </div>
				  </div>
			   </div> <!-- table_info -->
			</div> <!--tab info-->
		</div>
	</div>

</div>
	 <!--<div id="test_output" class="mzts-desc"></div>-->

    <div id="log_wrapper"></div>
    <div id="log_clear_btn"><img src="chrome://thunderstats/skin/mzts-log_clear.png" onclick="$jQ('#log_wrapper').empty();" alt="Clear log" title="Clear log" class="tooltip"/></div>
  </body>
</html>
